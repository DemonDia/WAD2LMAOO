{"remainingRequest":"C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\src\\components\\EmployeeToDoList.vue?vue&type=template&id=1b223bbc&scoped=true","dependencies":[{"path":"C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\src\\components\\EmployeeToDoList.vue","mtime":1636800332259},{"path":"C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1633958718216},{"path":"C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\node_modules\\babel-loader\\lib\\index.js","mtime":1633958721038},{"path":"C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1634603901513},{"path":"C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1633958718216},{"path":"C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1634603901504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgdk1vZGVsQ2hlY2tib3ggYXMgX3ZNb2RlbENoZWNrYm94LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtMWIyMjNiYmMiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAicGFnZSIsCiAgc3R5bGU6IHsKICAgICJiYWNrZ3JvdW5kIjogIiNGRkZBRkEiCiAgfQp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImNvbnRhaW5lciIKfTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIHsKICAgIHN0eWxlOiB7CiAgICAgICJjb2xvciI6ICJibGFjayIKICAgIH0sCiAgICBjbGFzczogIm1iLTQiCiAgfSwgIlRvLWRvIExpc3QiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAidGFibGUgdGFibGUtYm9yZGVyZWQiCn07Cgp2YXIgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGhlYWQiLCBudWxsLCBbLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRyIiwgbnVsbCwgWy8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIHsKICAgIHN0eWxlOiB7CiAgICAgICJiYWNrZ3JvdW5kIjogIiNBRUQ0RkYiCiAgICB9LAogICAgc2NvcGU6ICJjb2wiCiAgfSwgIlRhc2sgTmFtZSIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCB7CiAgICBzdHlsZTogewogICAgICAiYmFja2dyb3VuZCI6ICIjQUVENEZGIgogICAgfSwKICAgIHNjb3BlOiAiY29sIgogIH0sICJEdWUgRGF0ZSIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCB7CiAgICBzdHlsZTogewogICAgICAiYmFja2dyb3VuZCI6ICIjQUVENEZGIgogICAgfSwKICAgIHNjb3BlOiAiY29sIgogIH0sICJDb21wbGV0ZWQiKV0pXSwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogInRhc2stbmFtZSIKfTsKdmFyIF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJ0YXNrLWR1ZS1kYXRlIgp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogInN0YXR1cyIKfTsKdmFyIF9ob2lzdGVkXzkgPSBbInZhbHVlIl07CnZhciBfaG9pc3RlZF8xMCA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJidG4gYnRuLXByaW1hcnkiLAogIGRpc2FibGVkOiAiIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X05hdmJhciA9IF9yZXNvbHZlQ29tcG9uZW50KCJOYXZiYXIiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X05hdmJhciwgewogICAgdXNlcnR5cGU6ICdlbXBsb3llZScsCiAgICBwYWdlVHlwZTogJ1RvLWRvJwogIH0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2hvaXN0ZWRfMywgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIHt7Y29tcGxldGVkfX1cclxuICAgICAgICA8YnI+XHJcbiAgICAgICAge3t0YXNrc319XHJcbiAgICAgICAgPGJyPlxyXG4gICAgICAgIHt7aW5jb21wbGV0ZVRhc2tzfX0gIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRhYmxlIiwgX2hvaXN0ZWRfNCwgW19ob2lzdGVkXzUsIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRib2R5IiwgbnVsbCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEudGFza3MsIGZ1bmN0aW9uIChyb3csIGluZGV4KSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJ0ciIsIHsKICAgICAga2V5OiAidGFzay0iLmNvbmNhdChpbmRleCkKICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIF9ob2lzdGVkXzYsIF90b0Rpc3BsYXlTdHJpbmcocm93LnRhc2tfbmFtZSksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgX2hvaXN0ZWRfNywgX3RvRGlzcGxheVN0cmluZyhyb3cuZHVlX2RhdGUpLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIF9ob2lzdGVkXzgsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICAgIHR5cGU6ICJjaGVja2JveCIsCiAgICAgIHZhbHVlOiByb3cudGFza19pZCwKICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICByZXR1cm4gJGRhdGEuY29tcGxldGVkID0gJGV2ZW50OwogICAgICB9KQogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgX2hvaXN0ZWRfOSksIFtbX3ZNb2RlbENoZWNrYm94LCAkZGF0YS5jb21wbGV0ZWRdXSldKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKSwgJGRhdGEuY29tcGxldGVkLmxlbmd0aCAhPT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogMCwKICAgIGNsYXNzOiAiYnRuIGJ0bi1wcmltYXJ5IiwKICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuc3VibWl0KCk7CiAgICB9KQogIH0sICJTdWJtaXQiKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJidXR0b24iLCBfaG9pc3RlZF8xMCwgIlN1Ym1pdCIpKV0pXSk7Cn0="},{"version":3,"sources":["C:\\Users\\jingg\\Desktop\\SMU\\Sem_2.1\\IS216_WADll\\WADll\\WAD2LMAOO\\src\\components\\EmployeeToDoList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div class = \"page\" style=\"background:#FFFAFA\">\r\n     <Navbar :usertype=\"'employee'\" :pageType = \"'To-do'\"/>\r\n    \r\n    <div class=  \"container\">\r\n        <h1 style=\"color: black\" class=\"mb-4\">To-do List</h1>\r\n        <!-- {{completed}}\r\n        <br>\r\n        {{tasks}}\r\n        <br>\r\n        {{incompleteTasks}} -->\r\n        <table class = \"table table-bordered\">\r\n            <thead>\r\n                <tr>\r\n                    <th style=\"background: #AED4FF;\" scope = \"col\">Task Name</th>\r\n                    <th style=\"background: #AED4FF;\" scope = \"col\">Due Date</th>\r\n                    <th style=\"background: #AED4FF;\" scope = \"col\">Completed</th>\r\n\r\n                </tr>\r\n                \r\n            </thead>\r\n\r\n            <tbody>\r\n                <tr v-for=\"(row, index) in tasks\" :key=\"`task-${index}`\">\r\n                    <td class = \"task-name\">{{ row.task_name }}</td>\r\n                    <td class=\"task-due-date\">{{ row.due_date }}</td>\r\n                    <td class = \"status\"><input type = \"checkbox\" v-bind:value = row.task_id  v-model = \"completed\"/></td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        <button class = \"btn btn-primary\" v-if=\"completed.length !== 0\" @click=\"submit()\">Submit</button>\r\n          <button class = \"btn btn-primary\" v-else disabled >Submit</button>\r\n    </div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"./Navbar.vue\"\r\nimport mixin from \"../mixin\"\r\nimport firebase from \"firebase/compat\"\r\nimport \"firebase/compat/auth\"\r\n\r\nexport default {\r\n    name:\"EmployeeToDo\",\r\n    mixins:[mixin],\r\n    components:{\r\n        Navbar\r\n    },\r\n    data(){\r\n        return {\r\n            tasks: [],\r\n            completed: []\r\n        }\r\n\r\n    },\r\n  beforeMount(){\r\n    //    console.log(\"why\"+this.usertype)\r\n  },\r\n   methods:{\r\n     submit(){\r\n        //  var num = 0;\r\n         \r\n         this.tasks = this.tasks.map(\r\n             task =>{\r\n                 if(this.completed.includes(task.task_id)){\r\n                    //  var ele = (task.task_id)-1;\r\n                    //  this.tasks.splice(num,1);\r\n                    //  var updates = {};\r\n                    //  updates['tasks/' + ele + '/task_status'] = \"Review\"\r\n                    //  firebase.database().ref().update(updates);\r\n\r\n                            firebase.database().ref('tasks/' + task.task_id).update(\r\n                            {\"task_status\":\"Review\"}\r\n                            )\r\n                                .then(function() {\r\n                                    alert(\"Submitted\")\r\n                                })\r\n                  \r\n\r\n\r\n\r\n                 }\r\n                 else{\r\n                     return task\r\n                 }\r\n                //  num++\r\n             },\r\n         )\r\n          window.location.reload();   \r\n\r\n        \r\n        // .on('value', (snapshot) => {\r\n        // snapshot.forEach((childSnapshot) => {\r\n            // var task = childSnapshot.val();\r\n            // if (this.completed.includes(task.task_id)) {\r\n            //     task.task_status: \"review\"\r\n            // }\r\n        // });\r\n    // })\r\n    }\r\n\r\n},\r\n  created() {\r\n      firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                firebase.database().ref('tasks/').on('value', (snapshot) => {\r\n                    this.tasks = []\r\n                    snapshot.forEach((childSnapshot) => {\r\n                        var task = childSnapshot.val();\r\n                        if (task.user_id === user.uid) {\r\n                            if (task.task_status != \"Completed\" && task.task_status != \"Review\") {\r\n                                this.tasks.push(task);\r\n                            }\r\n                        } \r\n                    });\r\n                }); \r\n\r\n            } else {\r\n                this.user = null;\r\n            }\r\n        });  \r\n  }\r\n    \r\n}\r\n</script>\r\n<style scoped>\r\n.task-name{\r\n    width:60%;\r\n}\r\n.task-due-date{\r\n    width:40%;\r\n}\r\n .page{\r\n        min-height: 100vh;\r\n        width:100%;\r\n        background:rgba(248, 248, 248, 1);\r\n        /* display: flex; */\r\n    }\r\n.container{\r\n    margin-top: 80px;\r\n}\r\n.container h1{\r\n        box-shadow: 0px 5px 0px rgba(83, 90, 249, 0.81);\r\n        width:max-content;\r\n        margin: 20px auto;\r\n}\r\ntable th{\r\n    text-align: start;\r\n}\r\n</style>"],"sourceRoot":""}]}