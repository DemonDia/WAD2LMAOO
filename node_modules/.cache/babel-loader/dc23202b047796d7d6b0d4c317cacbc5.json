{"remainingRequest":"/Users/shintabek/Documents/GitHub/WAD2LMAOO/node_modules/babel-loader/lib/index.js!/Users/shintabek/Documents/GitHub/WAD2LMAOO/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shintabek/Documents/GitHub/WAD2LMAOO/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/shintabek/Documents/GitHub/WAD2LMAOO/src/components/EmployeeToDoList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/shintabek/Documents/GitHub/WAD2LMAOO/src/components/EmployeeToDoList.vue","mtime":1636618048886},{"path":"/Users/shintabek/Documents/GitHub/WAD2LMAOO/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shintabek/Documents/GitHub/WAD2LMAOO/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/shintabek/Documents/GitHub/WAD2LMAOO/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shintabek/Documents/GitHub/WAD2LMAOO/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1634786752533}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IE5hdmJhciBmcm9tICIuL05hdmJhci52dWUiOwppbXBvcnQgbWl4aW4gZnJvbSAiLi4vbWl4aW4iOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UvY29tcGF0IjsKaW1wb3J0ICJmaXJlYmFzZS9jb21wYXQvYXV0aCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRW1wbG95ZWVUb0RvIiwKICBtaXhpbnM6IFttaXhpbl0sCiAgY29tcG9uZW50czogewogICAgTmF2YmFyOiBOYXZiYXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YXNrczogW10sCiAgICAgIGNvbXBsZXRlZDogW10KICAgIH07CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7Ly8gICAgY29uc29sZS5sb2coIndoeSIrdGhpcy51c2VydHlwZSkKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG51bSA9IDA7CiAgICAgIHRoaXMudGFza3MgPSB0aGlzLnRhc2tzLm1hcChmdW5jdGlvbiAodGFzaykgewogICAgICAgIGlmIChfdGhpcy5jb21wbGV0ZWQuaW5jbHVkZXModGFzay50YXNrX2lkKSkgewogICAgICAgICAgdmFyIGVsZSA9IHRhc2sudGFza19pZCAtIDE7CgogICAgICAgICAgX3RoaXMudGFza3Muc3BsaWNlKG51bSwgMSk7CgogICAgICAgICAgdmFyIHVwZGF0ZXMgPSB7fTsKICAgICAgICAgIHVwZGF0ZXNbJ3Rhc2tzLycgKyBlbGUgKyAnL3Rhc2tfc3RhdHVzJ10gPSAiUmV2aWV3IjsKICAgICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkudXBkYXRlKHVwZGF0ZXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdGFzazsKICAgICAgICB9CgogICAgICAgIG51bSsrOwogICAgICB9KTsgLy8gLm9uKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4gewogICAgICAvLyBzbmFwc2hvdC5mb3JFYWNoKChjaGlsZFNuYXBzaG90KSA9PiB7CiAgICAgIC8vIHZhciB0YXNrID0gY2hpbGRTbmFwc2hvdC52YWwoKTsKICAgICAgLy8gaWYgKHRoaXMuY29tcGxldGVkLmluY2x1ZGVzKHRhc2sudGFza19pZCkpIHsKICAgICAgLy8gICAgIHRhc2sudGFza19zdGF0dXM6ICJyZXZpZXciCiAgICAgIC8vIH0KICAgICAgLy8gfSk7CiAgICAgIC8vIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbiAodXNlcikgewogICAgICBpZiAodXNlcikgewogICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd0YXNrcy8nKS5vbigndmFsdWUnLCBmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICAgIF90aGlzMi50YXNrcyA9IFtdOwogICAgICAgICAgc25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRTbmFwc2hvdCkgewogICAgICAgICAgICB2YXIgdGFzayA9IGNoaWxkU25hcHNob3QudmFsKCk7CgogICAgICAgICAgICBpZiAodGFzay51c2VyX2lkID09PSB1c2VyLnVpZCkgewogICAgICAgICAgICAgIGlmICh0YXNrLnRhc2tfc3RhdHVzICE9ICJDb21wbGV0ZWQiICYmIHRhc2sudGFza19zdGF0dXMgIT0gIlJldmlldyIpIHsKICAgICAgICAgICAgICAgIF90aGlzMi50YXNrcy5wdXNoKHRhc2spOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMyLnVzZXIgPSBudWxsOwogICAgICB9CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["/Users/shintabek/Documents/GitHub/WAD2LMAOO/src/components/EmployeeToDoList.vue"],"names":[],"mappings":";;;;;AAsCA,OAAO,MAAP,MAAmB,cAAnB;AACA,OAAO,KAAP,MAAkB,UAAlB;AACA,OAAO,QAAP,MAAqB,iBAArB;AACA,OAAO,sBAAP;AAEA,eAAe;AACX,EAAA,IAAI,EAAC,cADM;AAEX,EAAA,MAAM,EAAC,CAAC,KAAD,CAFI;AAGX,EAAA,UAAU,EAAC;AACP,IAAA,MAAK,EAAL;AADO,GAHA;AAMX,EAAA,IANW,kBAML;AACF,WAAO;AACH,MAAA,KAAK,EAAE,EADJ;AAEH,MAAA,SAAS,EAAE;AAFR,KAAP;AAKH,GAZU;AAab,EAAA,WAba,yBAaA,CACX;AACD,GAfY;AAgBZ,EAAA,OAAO,EAAC;AACN,IAAA,MADM,oBACE;AAAA;;AACJ,UAAI,GAAE,GAAI,CAAV;AAEA,WAAK,KAAL,GAAa,KAAK,KAAL,CAAW,GAAX,CACT,UAAA,IAAG,EAAI;AACH,YAAG,KAAI,CAAC,SAAL,CAAe,QAAf,CAAwB,IAAI,CAAC,OAA7B,CAAH,EAAyC;AACrC,cAAI,GAAE,GAAK,IAAI,CAAC,OAAN,GAAe,CAAzB;;AACA,UAAA,KAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,GAAlB,EAAsB,CAAtB;;AACA,cAAI,OAAM,GAAI,EAAd;AACA,UAAA,OAAO,CAAC,WAAW,GAAX,GAAiB,cAAlB,CAAP,GAA2C,QAA3C;AACA,UAAA,QAAQ,CAAC,QAAT,GAAoB,GAApB,GAA0B,MAA1B,CAAiC,OAAjC;AAEJ,SAPA,MAQI;AACA,iBAAO,IAAP;AACJ;;AACA,QAAA,GAAG;AACN,OAdQ,CAAb,CAHI,CAsBL;AACA;AACI;AACA;AACA;AACA;AACJ;AACJ;AACA;AA/BO,GAhBI;AAkDb,EAAA,OAlDa,qBAkDH;AAAA;;AACN,IAAA,QAAQ,CAAC,IAAT,GAAgB,kBAAhB,CAAmC,UAAC,IAAD,EAAU;AACvC,UAAI,IAAJ,EAAU;AACN,QAAA,QAAQ,CAAC,QAAT,GAAoB,GAApB,CAAwB,QAAxB,EAAkC,EAAlC,CAAqC,OAArC,EAA8C,UAAC,QAAD,EAAc;AACxD,UAAA,MAAI,CAAC,KAAL,GAAa,EAAb;AACA,UAAA,QAAQ,CAAC,OAAT,CAAiB,UAAC,aAAD,EAAmB;AAChC,gBAAI,IAAG,GAAI,aAAa,CAAC,GAAd,EAAX;;AACA,gBAAI,IAAI,CAAC,OAAL,KAAiB,IAAI,CAAC,GAA1B,EAA+B;AAC3B,kBAAI,IAAI,CAAC,WAAL,IAAoB,WAApB,IAAmC,IAAI,CAAC,WAAL,IAAoB,QAA3D,EAAqE;AACjE,gBAAA,MAAI,CAAC,KAAL,CAAW,IAAX,CAAgB,IAAhB;AACJ;AACJ;AACH,WAPD;AAQH,SAVD;AAYJ,OAbA,MAaO;AACH,QAAA,MAAI,CAAC,IAAL,GAAY,IAAZ;AACJ;AACH,KAjBH;AAkBJ;AArEa,CAAf","sourcesContent":["<template>\n<div class = \"page\">\n    <Navbar/>\n    \n    <div class=  \"container\">\n        <h1 style=\"color: black\" class=\"mb-4\">To-do list</h1>\n        <!-- {{completed}}\n        <br>\n        {{tasks}}\n        <br>\n        {{incompleteTasks}} -->\n        <table class = \"table table-bordered\">\n            <thead>\n                <tr>\n                    <th style=\"background: #b6cefb;\" scope = \"col\">Task Name</th>\n                    <th style=\"background: #b6cefb;\" scope = \"col\">Task Due</th>\n                    <th style=\"background: #b6cefb;\" scope = \"col\">Completed</th>\n\n                </tr>\n                \n            </thead>\n\n            <tbody>\n                <tr v-for=\"(row, index) in tasks\" :key=\"`task-${index}`\">\n                    <td class = \"task-name\">{{ row.task_name }}</td>\n                    <td class=\"task-due-date\">{{ row.due_date }}</td>\n                    <td class = \"status\"><input type = \"checkbox\" v-bind:value = row.task_id  v-model = \"completed\"/></td>\n                </tr>\n            </tbody>\n        </table>\n        <button class = \"btn btn-primary\" v-if=\"completed.length !== 0\" @click=\"submit()\">Submit</button>\n          <button class = \"btn btn-primary\" v-else disabled >Submit</button>\n    </div>\n</div>\n\n</template>\n\n<script>\nimport Navbar from \"./Navbar.vue\"\nimport mixin from \"../mixin\"\nimport firebase from \"firebase/compat\"\nimport \"firebase/compat/auth\"\n\nexport default {\n    name:\"EmployeeToDo\",\n    mixins:[mixin],\n    components:{\n        Navbar\n    },\n    data(){\n        return {\n            tasks: [],\n            completed: []\n        }\n\n    },\n  beforeMount(){\n    //    console.log(\"why\"+this.usertype)\n  },\n   methods:{\n     submit(){\n         var num = 0;\n         \n         this.tasks = this.tasks.map(\n             task =>{\n                 if(this.completed.includes(task.task_id)){\n                     var ele = (task.task_id)-1;\n                     this.tasks.splice(num,1);\n                     var updates = {};\n                     updates['tasks/' + ele + '/task_status'] = \"Review\"\n                     firebase.database().ref().update(updates);\n\n                 }\n                 else{\n                     return task\n                 }\n                 num++\n             },\n         )\n             \n\n        \n        // .on('value', (snapshot) => {\n        // snapshot.forEach((childSnapshot) => {\n            // var task = childSnapshot.val();\n            // if (this.completed.includes(task.task_id)) {\n            //     task.task_status: \"review\"\n            // }\n        // });\n    // })\n    }\n\n},\n  created() {\n      firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                firebase.database().ref('tasks/').on('value', (snapshot) => {\n                    this.tasks = []\n                    snapshot.forEach((childSnapshot) => {\n                        var task = childSnapshot.val();\n                        if (task.user_id === user.uid) {\n                            if (task.task_status != \"Completed\" && task.task_status != \"Review\") {\n                                this.tasks.push(task);\n                            }\n                        } \n                    });\n                }); \n\n            } else {\n                this.user = null;\n            }\n        });  \n  }\n    \n}\n</script>\n<style scoped>\n.task-name{\n    width:60%;\n}\n.task-due-date{\n    width:40%;\n}\n .page{\n        min-height: 100vh;\n        width:100%;\n        background:rgba(248, 248, 248, 1);\n        /* display: flex; */\n    }\n.container{\n    margin-top: 80px;\n}\n.container h1{\n        box-shadow: 0px 5px 0px rgba(83, 90, 249, 0.81);\n        width:max-content;\n        margin: 20px auto;\n}\ntable th{\n    text-align: start;\n}\n</style>"],"sourceRoot":""}]}