{"remainingRequest":"/Users/demonicaoi/Documents/GitHub/WAD2LMAOO/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/demonicaoi/Documents/GitHub/WAD2LMAOO/src/components/EmployeeToDoList.vue?vue&type=template&id=1b223bbc&scoped=true","dependencies":[{"path":"/Users/demonicaoi/Documents/GitHub/WAD2LMAOO/src/components/EmployeeToDoList.vue","mtime":1636736069330},{"path":"/Users/demonicaoi/Documents/GitHub/WAD2LMAOO/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/demonicaoi/Documents/GitHub/WAD2LMAOO/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/demonicaoi/Documents/GitHub/WAD2LMAOO/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1634824862473},{"path":"/Users/demonicaoi/Documents/GitHub/WAD2LMAOO/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/demonicaoi/Documents/GitHub/WAD2LMAOO/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1634824862470}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CjxkaXYgY2xhc3MgPSAicGFnZSI+CiAgICAgPE5hdmJhciA6dXNlcnR5cGU9IidlbXBsb3llZSciIDpwYWdlVHlwZSA9ICInVG8tZG8nIi8+CiAgICAKICAgIDxkaXYgY2xhc3M9ICAiY29udGFpbmVyIj4KICAgICAgICA8aDEgc3R5bGU9ImNvbG9yOiBibGFjayIgY2xhc3M9Im1iLTQiPlRvLWRvIGxpc3Q8L2gxPgogICAgICAgIDwhLS0ge3tjb21wbGV0ZWR9fQogICAgICAgIDxicj4KICAgICAgICB7e3Rhc2tzfX0KICAgICAgICA8YnI+CiAgICAgICAge3tpbmNvbXBsZXRlVGFza3N9fSAtLT4KICAgICAgICA8dGFibGUgY2xhc3MgPSAidGFibGUgdGFibGUtYm9yZGVyZWQiPgogICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJiYWNrZ3JvdW5kOiAjY2ZkNWZmOyIgc2NvcGUgPSAiY29sIj5UYXNrIE5hbWU8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYmFja2dyb3VuZDogI2NmZDVmZjsiIHNjb3BlID0gImNvbCI+RHVlIERhdGU8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0iYmFja2dyb3VuZDogI2NmZDVmZjsiIHNjb3BlID0gImNvbCI+Q29tcGxldGVkPC90aD4KCiAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIDwvdGhlYWQ+CgogICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICA8dHIgdi1mb3I9Iihyb3csIGluZGV4KSBpbiB0YXNrcyIgOmtleT0iYHRhc2stJHtpbmRleH1gIj4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3MgPSAidGFzay1uYW1lIj57eyByb3cudGFza19uYW1lIH19PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InRhc2stZHVlLWRhdGUiPnt7IHJvdy5kdWVfZGF0ZSB9fTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzID0gInN0YXR1cyI+PGlucHV0IHR5cGUgPSAiY2hlY2tib3giIHYtYmluZDp2YWx1ZSA9IHJvdy50YXNrX2lkICB2LW1vZGVsID0gImNvbXBsZXRlZCIvPjwvdGQ+CiAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICA8L3Rib2R5PgogICAgICAgIDwvdGFibGU+CiAgICAgICAgPGJ1dHRvbiBjbGFzcyA9ICJidG4gYnRuLXByaW1hcnkiIHYtaWY9ImNvbXBsZXRlZC5sZW5ndGggIT09IDAiIEBjbGljaz0ic3VibWl0KCkiPlN1Ym1pdDwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcyA9ICJidG4gYnRuLXByaW1hcnkiIHYtZWxzZSBkaXNhYmxlZCA+U3VibWl0PC9idXR0b24+CiAgICA8L2Rpdj4KPC9kaXY+Cgo="},{"version":3,"sources":["/Users/demonicaoi/Documents/GitHub/WAD2LMAOO/src/components/EmployeeToDoList.vue"],"names":[],"mappings":";AACA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEtD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,CAAC;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACF,CAAC,CAAC,CAAC;oBACC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC5D,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC3D,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;gBAEhE,CAAC,CAAC,CAAC,CAAC;;YAER,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;YAEP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACF,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC/C,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzG,CAAC,CAAC,CAAC,CAAC;YACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC9F,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC,CAAC,CAAC,CAAC,CAAC;AACT,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/demonicaoi/Documents/GitHub/WAD2LMAOO/src/components/EmployeeToDoList.vue","sourceRoot":"","sourcesContent":["<template>\n<div class = \"page\">\n     <Navbar :usertype=\"'employee'\" :pageType = \"'To-do'\"/>\n    \n    <div class=  \"container\">\n        <h1 style=\"color: black\" class=\"mb-4\">To-do list</h1>\n        <!-- {{completed}}\n        <br>\n        {{tasks}}\n        <br>\n        {{incompleteTasks}} -->\n        <table class = \"table table-bordered\">\n            <thead>\n                <tr>\n                    <th style=\"background: #cfd5ff;\" scope = \"col\">Task Name</th>\n                    <th style=\"background: #cfd5ff;\" scope = \"col\">Due Date</th>\n                    <th style=\"background: #cfd5ff;\" scope = \"col\">Completed</th>\n\n                </tr>\n                \n            </thead>\n\n            <tbody>\n                <tr v-for=\"(row, index) in tasks\" :key=\"`task-${index}`\">\n                    <td class = \"task-name\">{{ row.task_name }}</td>\n                    <td class=\"task-due-date\">{{ row.due_date }}</td>\n                    <td class = \"status\"><input type = \"checkbox\" v-bind:value = row.task_id  v-model = \"completed\"/></td>\n                </tr>\n            </tbody>\n        </table>\n        <button class = \"btn btn-primary\" v-if=\"completed.length !== 0\" @click=\"submit()\">Submit</button>\n          <button class = \"btn btn-primary\" v-else disabled >Submit</button>\n    </div>\n</div>\n\n</template>\n\n<script>\nimport Navbar from \"./Navbar.vue\"\nimport mixin from \"../mixin\"\nimport firebase from \"firebase/compat\"\nimport \"firebase/compat/auth\"\n\nexport default {\n    name:\"EmployeeToDo\",\n    mixins:[mixin],\n    components:{\n        Navbar\n    },\n    data(){\n        return {\n            tasks: [],\n            completed: []\n        }\n\n    },\n  beforeMount(){\n    //    console.log(\"why\"+this.usertype)\n  },\n   methods:{\n     submit(){\n         var num = 0;\n         \n         this.tasks = this.tasks.map(\n             task =>{\n                 if(this.completed.includes(task.task_id)){\n                     var ele = (task.task_id)-1;\n                     this.tasks.splice(num,1);\n                     var updates = {};\n                     updates['tasks/' + ele + '/task_status'] = \"Review\"\n                     firebase.database().ref().update(updates);\n\n                 }\n                 else{\n                     return task\n                 }\n                 num++\n             },\n         )\n          window.location.reload();   \n\n        \n        // .on('value', (snapshot) => {\n        // snapshot.forEach((childSnapshot) => {\n            // var task = childSnapshot.val();\n            // if (this.completed.includes(task.task_id)) {\n            //     task.task_status: \"review\"\n            // }\n        // });\n    // })\n    }\n\n},\n  created() {\n      firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                firebase.database().ref('tasks/').on('value', (snapshot) => {\n                    this.tasks = []\n                    snapshot.forEach((childSnapshot) => {\n                        var task = childSnapshot.val();\n                        if (task.user_id === user.uid) {\n                            if (task.task_status != \"Completed\" && task.task_status != \"Review\") {\n                                this.tasks.push(task);\n                            }\n                        } \n                    });\n                }); \n\n            } else {\n                this.user = null;\n            }\n        });  \n  }\n    \n}\n</script>\n<style scoped>\n.task-name{\n    width:60%;\n}\n.task-due-date{\n    width:40%;\n}\n .page{\n        min-height: 100vh;\n        width:100%;\n        background:rgba(248, 248, 248, 1);\n        /* display: flex; */\n    }\n.container{\n    margin-top: 80px;\n}\n.container h1{\n        box-shadow: 0px 5px 0px rgba(83, 90, 249, 0.81);\n        width:max-content;\n        margin: 20px auto;\n}\ntable th{\n    text-align: start;\n}\n</style>"]}]}