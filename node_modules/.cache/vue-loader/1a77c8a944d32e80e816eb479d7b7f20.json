{"remainingRequest":"C:\\Users\\veinn\\Documents\\GitHub\\WAD2LMAOO\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\veinn\\Documents\\GitHub\\WAD2LMAOO\\src\\components\\Project.vue?vue&type=style&index=0&id=5dd84899&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\veinn\\Documents\\GitHub\\WAD2LMAOO\\src\\components\\Project.vue","mtime":1636700141801},{"path":"C:\\Users\\veinn\\Documents\\GitHub\\WAD2LMAOO\\node_modules\\css-loader\\dist\\cjs.js","mtime":1636335937635},{"path":"C:\\Users\\veinn\\Documents\\GitHub\\WAD2LMAOO\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1636335933957},{"path":"C:\\Users\\veinn\\Documents\\GitHub\\WAD2LMAOO\\node_modules\\postcss-loader\\src\\index.js","mtime":1636335942529},{"path":"C:\\Users\\veinn\\Documents\\GitHub\\WAD2LMAOO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636335936041},{"path":"C:\\Users\\veinn\\Documents\\GitHub\\WAD2LMAOO\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1636335933950}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpoMXsNCiAgICBhbGlnbi1zZWxmOiBtaWRkbGU7DQp9DQoudGFzay1jb250YWluZXJ7DQogICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICBmbGV4LXdyYXA6IHdyYXA7DQp9DQoucGFnZXsNCiAgICBtaW4taGVpZ2h0OiAxMDB2aDsNCiAgICB3aWR0aDoxMDAlOw0KICAgIGJhY2tncm91bmQ6cmdiYSgyNDgsIDI0OCwgMjQ4LCAxKTsNCiAgICAvKiBkaXNwbGF5OiBmbGV4OyAqLw0KfQ0KLnRhc2stY29udGFpbmVyew0KICAgICAgbWluLWhlaWdodDoxMDB2aDsNCiAgLyogbWFyZ2luLXRvcDo2MHB4OyAqLw0KICAvKiBiYWNrZ3JvdW5kOmdyZXk7ICovDQogIHBhZGRpbmctdG9wOjYwcHg7DQogIHBhZGRpbmctYm90dG9tOjYwcHg7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCg0KfQ0KI3Byb2plY3QtbmFtZXsNCiAgICB3aWR0aDogbWF4LWNvbnRlbnQ7DQogICAgbWFyZ2luOiBhdXRvOw0KICAgIG1hcmdpbi10b3A6NjBweDsNCiAgICBib3gtc2hhZG93OiAwcHggNXB4IDBweCByZ2JhKDgzLCA5MCwgMjQ5LCAwLjgxKTsNCn0NCi5tb2RhbC10aXRsZXsNCiAgbWFyZ2luOiBhdXRvOw0KfQ0KLm5ldy10YXNrLWJ0bnsNCmJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgwZGVnLCAjNTA0REZGLCAjNTA0REZGKSwgcmdiYSg3OCwgNzQsIDI1NSwgMC42MSk7DQpib3JkZXItcmFkaXVzOiA1cHg7DQpjb2xvcjogd2hpdGU7DQp9DQpsYWJlbHsNCiAgZmxvYXQ6IGxlZnQ7DQp9DQoNCnRoIHsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgLyogd29yZC13cmFwOmJyZWFrLXdvcmQ7ICovDQp9DQo="},{"version":3,"sources":["C:\\Users\\veinn\\Documents\\GitHub\\WAD2LMAOO\\src\\components\\Project.vue"],"names":[],"mappings":"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","file":"C:/Users/veinn/Documents/GitHub/WAD2LMAOO/src/components/Project.vue","sourceRoot":"","sourcesContent":["<template>\r\n<div class = \"page\">\r\n    <Navbar :usertype=\"'employee'\"/>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<section class=\"panel mx-4\" style = \"margin-top:80px\">\r\n      <div><h1 class=\"heading\">{{displayProjName}} </h1></div>\r\n      <router-link to = \"/projects\" class=\" btn btn-primary btn-xs mb-3\" style=\"float:left\">Back</router-link>\r\n    <a href=\"#\" class=\" btn btn-success btn-xs mb-3\" style=\"float:right\" @click=\"create\"> Create New Task</a>\r\n    <div>\r\n<br>\r\n<div class = \"container card card-body\">\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <label>Project Name:</label>\r\n      <input type = \"text\" class = \"form-control\" placeholder=\"Change Project Name\" v-model = \"projectName\" />\r\n    </div>\r\n    <div class=\"col\">\r\n        <label>Assigned To:</label>\r\n        <!-- {{selected}} -->\r\n<!-- {{selected}} -->\r\n            <select v-model=\"selected\" class = \"form-control\" value = \"selected\" >\r\n                <option disabled value=\"\">Please select an assignee</option>\r\n                <option v-for=\"user in users\" v-bind:key=\"user.user_id\" :value = user.name\r\n                :selected= 'user.name == selected'\r\n                >{{user.name}}</option>\r\n            </select>\r\n    </div>\r\n  </div>\r\n<div class = \"row\">\r\n  <div class = \"col\">\r\n      <label>Due Date:</label>\r\n      <input type = \"date\" class = \"form-control\" placeholder=\"Change due date\" v-model = \"dueDate\" />\r\n  </div>\r\n\r\n <div class = \"col\">\r\n      <label>Reward:</label>\r\n      <input type = \"number\" class = \"form-control\" placeholder=\"Change reward\" v-model = \"reward\" />\r\n  </div>\r\n\r\n</div>  \r\n<br>\r\n<div class = \"row justify-content-center\">\r\n  <div class = \"col-3\">\r\n    <button class = \"btn btn-primary  btn-xs mb-3\"  v-on:click = \"update\">Update </button>    \r\n  </div>\r\n  \r\n\r\n</div>\r\n\r\n</div>\r\n\r\n\r\n\r\n    </div>\r\n    <table class=\"table table-hover p-table\">\r\n        <thead>\r\n        <tr>\r\n            <th>Task Name</th>\r\n            <th>Task Created</th>\r\n            <th>Assignee</th>\r\n            <th>Description</th>\r\n            <th>Task Due</th>\r\n            <th>Task Status</th>\r\n            <th>Rewarded Points</th>\r\n            <th>Actions</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody style=\"width:100%\">\r\n          <!-- <div class = \"contentz container-fluid\"> -->\r\n            <!-- <div class= \"row\"> -->\r\n\r\n              <tr v-for=\"(task, index) in tasks\" v-bind:key=\"index\">\r\n                <!-- {{proj.project_id}} -->\r\n                <!-- <router-link to =\"/projects/project\" v-for=\"(proj, index) in projs\" v-bind:key=\"index\"\r\n                  style = \"text-decoration:none\">\r\n                  <EmployerProject :projectName=\"proj.project_name\" :projectAssignees =\"proj.assignee\" :projectAssigned =\"proj.assigned_date\"\r\n                  :projectDue =\"proj.due_date\" :projectStatus =\"proj.project_status\"  :projectReward =\"proj.reward\"/>\r\n                </router-link> -->\r\n                <td class=\"p-name\">\r\n                  {{task.task_name}}\r\n                    <!-- {{proj.project_name}} -->\r\n                </td>\r\n                <td class=\"p-created\">\r\n                  {{task.created_at}}\r\n                    <!-- {{proj.assignee}} -->\r\n                </td>\r\n                <td class=\"p-assignee\">\r\n                  {{task.user_name}}\r\n                    <!-- {{proj.assignee}} -->\r\n                </td>\r\n                <td class=\"p-description\" v-if = \"task.description === ''\">\r\n                    N/A\r\n                </td>\r\n                <td v-else>\r\n                  {{task.description}}\r\n                </td>\r\n                <td class=\"p-Due\">\r\n                    {{task.due_date}}\r\n                </td>\r\n                <td class=\"p-status\">\r\n                    {{task.task_status}}\r\n                </td>\r\n                <td class=\"p-reward\">\r\n                    {{task.reward}}\r\n                </td>\r\n                <td v-if = \"task.task_status === 'Review'\">\r\n                    <a v-if = \"task.task_status === 'review'\" href=\"#\" class=\"btn btn-info btn-xs\" @click=\"approve(task.task_id)\"><i class=\"fa fa-folder\"></i> Approve </a>\r\n                    <a v-if = \"task.task_status === 'review'\" href=\"#\" class=\"btn btn-danger btn-xs\" @click=\"reject(task.task_id)\"><i class=\"fa fa-folder\"></i> Reject </a>\r\n                </td>\r\n\r\n                <td v-else-if = \"task.task_status === 'Completed'\">\r\n                   <a href=\"#\" class=\"btn btn-danger btn-xs disabled\" @click=\"delete_task(task.task_id)\"><i class=\"fa fa-trash-o\"></i> Delete </a>\r\n                </td>\r\n\r\n                <td v-else>\r\n                    \r\n                    <a href=\"#\" class=\"btn btn-danger btn-xs\" @click=\"delete_task(task.task_id)\"><i class=\"fa fa-trash-o\"></i> Delete </a>\r\n                </td>\r\n                \r\n              </tr>\r\n\r\n            <!-- </div> -->\r\n          \r\n          <!-- </div> -->\r\n        </tbody>\r\n    </table>\r\n</section>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</div>\r\n</template>\r\n<script>\r\n// import ProjectDetail from \"./ProjectDetail.vue\"\r\nimport Navbar from \"./Navbar.vue\"\r\n// import EmployerTask from \"./EmployerTask.vue\"\r\n// import AddItem from \"./AddItem.vue\"\r\nimport mixin from \"../mixin\"\r\nimport firebase from \"firebase/compat\"\r\nexport default {\r\n    name:\"Project\",\r\n    mixins:[mixin],\r\n    data(){\r\n      return{\r\n        tasks:[],\r\n        displayProjName:\"\",\r\n        projectName:\"\",\r\n        project:null,\r\n        users: [],\r\n        selected:\"\",\r\n        reward:0,\r\n        dueDate:\"\",\r\n        deleteTasks:[]\r\n      }\r\n    },\r\n    components:{\r\n\r\n        Navbar,\r\n    },\r\n      beforeMount(){\r\n        if(!sessionStorage.getItem(\"loggedUser\")){\r\n          this.$router.push(\"/\")\r\n        }\r\n  },\r\n  methods:{\r\n\r\n      delete_task(taskID) {\r\n        firebase.database().ref('tasks/' + taskID).remove()\r\n            .then(function() {\r\n                alert(\"Task Deleted\")\r\n            })\r\n      },\r\n    create(){\r\n       this.$router.push(\"/projects/project/\"+this.$route.params.id+\"/addTask\")\r\n    },\r\n    approve(taskID){\r\n        firebase.database().ref('tasks/' + taskID).update(\r\n          {\"task_status\":\"complete\"}\r\n        )\r\n            .then(function() {\r\n                alert(\"Task completed\")\r\n            })\r\n    },\r\n    reject(taskID){\r\n        firebase.database().ref('tasks/' + taskID).update(\r\n          {\"task_status\":\"incomplete\"}\r\n        )\r\n            .then(function() {\r\n                alert(\"Rejected\")\r\n            })\r\n    },\r\n    update(){\r\n      var toUpdate = this.$route.params.id;\r\n\r\n                  if(this.projectName ===\"\"){\r\n                alert(\"Project Name cannot be empty\")\r\n            }\r\n            else if(this.selected ===\"\"){\r\n                alert(\"Please select\")\r\n            }\r\n            else if(this.dueDate ===\"\"){\r\n                alert(\"Please select a due date.\")\r\n\r\n            }\r\n            else if(this.reward < 0){\r\n                alert(\"Points cannot be negative!\")\r\n            }\r\n            else{\r\n\r\n        firebase.database().ref('projects/' + toUpdate).update(\r\n          {\r\n          \"assignee\":this.selected,\r\n          \"due_date\":this.dueDate,\r\n          \"project_name\":this.projectName,\r\n          \"reward\":this.reward\r\n          \r\n          }\r\n        )\r\n            .then(function() {\r\n                alert(\"Project Updated\")\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n  },\r\n  created() {\r\n    // users\r\n\r\n      firebase.database().ref('users/').on('value', (snapshot) => {\r\n          this.users = []\r\n          snapshot.forEach((childSnapshot) => {\r\n              var user = childSnapshot.val();\r\n              this.users.push(user);\r\n          });\r\n      }); \r\n\r\n\r\n      firebase.database().ref('tasks/' ).on('value', (snapshot) => {\r\n        this.tasks = []\r\n        snapshot.forEach((childSnapshot) => {\r\n          var task = childSnapshot.val();\r\n          console.log(task)\r\n          if(task.project_id ==  this.$route.params.id ){\r\n          \r\n            this.tasks.push(task);\r\n          }\r\n          \r\n        })\r\n        console.log(this.tasks)\r\n      }); \r\n// name\r\n      firebase.database().ref(\"projects/\").on('value',(snapshot)=>{\r\n                snapshot.forEach((childSnapshot) => {\r\n          var project = childSnapshot.val();\r\n          console.log(project.project_id)\r\n          // console.log(this.projectName == project.project_name)\r\n          if(project.project_id ==  this.$route.params.id ){\r\n            this.project = project\r\n            this.projectName = project.project_name\r\n            this.displayProjName = project.project_name\r\n            this.selected = project.assignee\r\n            this.dueDate = project.due_date\r\n            this.reward = project.reward\r\n            console.log(this.selected)\r\n            // this.tasks.push(task);\r\n          }\r\n          \r\n        })\r\n      })\r\n\r\n\r\n    },\r\n\r\n}\r\n</script>\r\n<style scoped>\r\nh1{\r\n    align-self: middle;\r\n}\r\n.task-container{\r\n          display: flex;\r\n    flex-wrap: wrap;\r\n}\r\n.page{\r\n    min-height: 100vh;\r\n    width:100%;\r\n    background:rgba(248, 248, 248, 1);\r\n    /* display: flex; */\r\n}\r\n.task-container{\r\n      min-height:100vh;\r\n  /* margin-top:60px; */\r\n  /* background:grey; */\r\n  padding-top:60px;\r\n  padding-bottom:60px;\r\n      justify-content: center;\r\n\r\n}\r\n#project-name{\r\n    width: max-content;\r\n    margin: auto;\r\n    margin-top:60px;\r\n    box-shadow: 0px 5px 0px rgba(83, 90, 249, 0.81);\r\n}\r\n.modal-title{\r\n  margin: auto;\r\n}\r\n.new-task-btn{\r\nbackground: linear-gradient(0deg, #504DFF, #504DFF), rgba(78, 74, 255, 0.61);\r\nborder-radius: 5px;\r\ncolor: white;\r\n}\r\nlabel{\r\n  float: left;\r\n}\r\n\r\nth {\r\n  overflow: hidden;\r\n  /* word-wrap:break-word; */\r\n}\r\n</style>\r\n<style>\r\n</style>"]}]}